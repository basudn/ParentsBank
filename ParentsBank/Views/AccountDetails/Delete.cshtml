@model ParentsBank.Models.AccountDetails

@{
    ViewBag.Title = "Delete Account";
}
<ol class="breadcrumb">
    <li>@Html.ActionLink("Home", "Index", "Home")</li>
    @if (ViewBag.Role == "Owner")
    {
        <li>@Html.ActionLink("Accounts", "Index", "AccountDetails")</li>
    }
    <li>@Html.ActionLink(@Model.Name + "'s Account", "Details", "AccountDetails", new { id = Model.Id }, new { })</li>
    <li class="active">Delete</li>
</ol>
<h2>Delete Account</h2>

<h3>Are you sure you want to delete this?</h3>
<div>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Owner)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Owner)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Recipient)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Recipient)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.OpenDate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.OpenDate)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.InterestRate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.InterestRate)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Balance)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Balance)
        </dd>

        <dt>
            @Html.DisplayName("Interest Accrued")
        </dt>

        <dd>
            @Model.CalculateInterestEarnedInCurrentYear()
        </dd>
        
        <dt>
            @Html.DisplayName("Last Deposit Date")
        </dt>
        
        <dd>
            @Model.GetLastTransactionDate()
        </dd>

    </dl>

    @using (Html.BeginForm()) {
        @Html.AntiForgeryToken()

        <div class="form-actions no-color">
            @if (Model.Balance == 0)
            {
                <input type="submit" value="Delete" class="btn btn-default" />
            }
            else
            {
                <input type="submit" value="Delete" class="btn btn-default disabled" />
            }
            | @Html.ActionLink("Back to List", "Index")
        </div>
    }
</div>
